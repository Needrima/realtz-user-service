{
    "swagger": "2.0",
    "info": {
        "contact": {}
    },
    "paths": {
        "/auth/change-password": {
            "post": {
                "description": "Change a user's password",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "change user password",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "change password request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.ChangePasswordDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "password change successful",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "409": {
                        "description": "incorrect current password",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/auth/delete-account": {
            "get": {
                "description": "Delete A Users Account and Clear out their data from the database",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Delete Account",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User account deleted successfully",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "user doesn't exist",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/auth/edit-profile": {
            "post": {
                "description": "Update a user's username and/or bio",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Update user profile",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "edit profile request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.EditProfileDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "profile update successful",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "409": {
                        "description": "username has ben taken",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/auth/get-user/{user_reference}": {
            "get": {
                "description": "Retrieve user by user reference",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Get User",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "reference of the user to be queried",
                        "name": "user_reference",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User retrieved successfully",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "user not found",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/auth/logout": {
            "get": {
                "description": "Unauthnticate a user",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Logout",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Logout successfully",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "user doesn't exist",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/auth/rate-user/{user_reference}/{rating}": {
            "get": {
                "description": "Drop a star rating for a user",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Rate user",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successfully rated user",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/auth/send-otp": {
            "post": {
                "description": "Send OTP for different verification processes",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Send OTP",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "Send OTP request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.SendOtpDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OTP sent successfully",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/auth/switch-to-agent": {
            "post": {
                "description": "Switch a user to an agent",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "change user type to agent",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "change password request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.SwitchToAgentDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "swtitching user to an agent successful",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "400": {
                        "description": "invalid BVN or BVN does not belong to user",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/auth/update-phone": {
            "post": {
                "description": "Add or change user's phone number",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Update Phone Number",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "Udpate phone number request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpdatePhoneNumberDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Phone number added / changed successfully",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/auth/upload-profile-image": {
            "post": {
                "description": "Upload or replace user profile image",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Upload Profile image",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "file",
                        "description": "Profile Image to upload",
                        "name": "profile_image",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Image Upload successfully",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "user not found",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/auth/verify-bvn": {
            "post": {
                "description": "Verify a user's bank verification number",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Verify BVN",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "Verify phone number request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.VerifyBvnDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "BVN verified successfully",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/auth/verify-email": {
            "post": {
                "description": "Verify email when user skipped email verification during onboarding",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Verify email",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "Verify email request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.VerifyEmailDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Email verified successfully",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/auth/verify-phone": {
            "post": {
                "description": "Verify a user's phone number",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Verify update Phone Number",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Authentication token",
                        "name": "Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "Verify phone number request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.VerifyPhoneNumerDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Phone number verified successfully",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/complete-password-recovery": {
            "post": {
                "description": "Change User password",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Complete Password recovery",
                "parameters": [
                    {
                        "description": "Complete password recovery request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.CompletePasswordRecoveryDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Password changed successfully",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "user doesn't exist",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/login": {
            "post": {
                "description": "Login to account",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Login",
                "parameters": [
                    {
                        "description": "Login request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.LoginDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Login succesful",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "404": {
                        "description": "user not found",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/send-otp": {
            "post": {
                "description": "Send OTP for different verification processes during onboarding",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Send OTP onboarding",
                "parameters": [
                    {
                        "description": "Send OTP request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.SendOtpOnboardingDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OTP sent successfully",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/signup": {
            "post": {
                "description": "Registering a new user",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Signup",
                "parameters": [
                    {
                        "description": "Signuprequest body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.SignupDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User Created Successfully",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "409": {
                        "description": "user already exists",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/start-password-recovery": {
            "post": {
                "description": "Send OTP when user forget's password and tries recovering it",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Start Password recovery",
                "parameters": [
                    {
                        "description": "Start password recovery request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.StartPasswordRecoveryDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OTP sent",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "user doesn't exist",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        },
        "/verify-email": {
            "post": {
                "description": "Verify email when user is just signing up",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "summary": "Verify email on onboarding",
                "parameters": [
                    {
                        "description": "Verify email request body",
                        "name": "requestBody",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.VerifyEmailOnboardingDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Email verified successfully",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "500": {
                        "description": "something went wrong",
                        "schema": {
                            "$ref": "#/definitions/helpers.ServiceError"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "dto.ChangePasswordDto": {
            "type": "object",
            "required": [
                "confirm_password",
                "current_password",
                "new_password"
            ],
            "properties": {
                "confirm_password": {
                    "type": "string"
                },
                "current_password": {
                    "type": "string"
                },
                "new_password": {
                    "type": "string"
                }
            }
        },
        "dto.CompletePasswordRecoveryDto": {
            "type": "object",
            "required": [
                "confirm_password",
                "email",
                "new_password",
                "otp",
                "otp_verification_key"
            ],
            "properties": {
                "confirm_password": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "new_password": {
                    "type": "string"
                },
                "otp": {
                    "type": "string"
                },
                "otp_verification_key": {
                    "type": "string"
                }
            }
        },
        "dto.EditProfileDto": {
            "type": "object",
            "properties": {
                "bio": {
                    "description": "should be a minimum of 10 characters`",
                    "type": "string"
                },
                "username": {
                    "type": "string"
                }
            }
        },
        "dto.LoginDto": {
            "type": "object",
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                }
            }
        },
        "dto.SendOtpDto": {
            "type": "object",
            "required": [
                "channel"
            ],
            "properties": {
                "channel": {
                    "type": "string"
                }
            }
        },
        "dto.SendOtpOnboardingDto": {
            "type": "object",
            "required": [
                "channel"
            ],
            "properties": {
                "channel": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "phone_number": {
                    "type": "string"
                }
            }
        },
        "dto.SignupDto": {
            "type": "object",
            "required": [
                "agreement",
                "confirm_password",
                "email",
                "firstname",
                "lastname",
                "password",
                "phone_number",
                "user_type",
                "username"
            ],
            "properties": {
                "agreement": {
                    "type": "boolean"
                },
                "confirm_password": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "firstname": {
                    "type": "string",
                    "minLength": 3
                },
                "lastname": {
                    "type": "string",
                    "minLength": 3
                },
                "password": {
                    "type": "string"
                },
                "phone_number": {
                    "type": "string"
                },
                "user_type": {
                    "type": "string"
                },
                "username": {
                    "type": "string",
                    "minLength": 3
                }
            }
        },
        "dto.StartPasswordRecoveryDto": {
            "type": "object",
            "required": [
                "email"
            ],
            "properties": {
                "email": {
                    "type": "string"
                }
            }
        },
        "dto.SwitchToAgentDto": {
            "type": "object",
            "required": [
                "bvn"
            ],
            "properties": {
                "bvn": {
                    "type": "string"
                }
            }
        },
        "dto.UpdatePhoneNumberDto": {
            "type": "object",
            "required": [
                "phone_number"
            ],
            "properties": {
                "phone_number": {
                    "type": "string"
                }
            }
        },
        "dto.VerifyBvnDto": {
            "type": "object",
            "required": [
                "bvn",
                "otp",
                "otp_verification_key"
            ],
            "properties": {
                "bvn": {
                    "type": "string"
                },
                "otp": {
                    "type": "string"
                },
                "otp_verification_key": {
                    "type": "string"
                }
            }
        },
        "dto.VerifyEmailDto": {
            "type": "object",
            "required": [
                "otp",
                "otp_verification_key"
            ],
            "properties": {
                "otp": {
                    "type": "string"
                },
                "otp_verification_key": {
                    "type": "string"
                }
            }
        },
        "dto.VerifyEmailOnboardingDto": {
            "type": "object",
            "required": [
                "email",
                "otp",
                "otp_verification_key"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "otp": {
                    "type": "string"
                },
                "otp_verification_key": {
                    "type": "string"
                }
            }
        },
        "dto.VerifyPhoneNumerDto": {
            "type": "object",
            "required": [
                "otp",
                "otp_verification_key"
            ],
            "properties": {
                "otp": {
                    "type": "string"
                },
                "otp_verification_key": {
                    "type": "string"
                }
            }
        },
        "helpers.ServiceError": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "message": {
                    "type": "string"
                }
            }
        }
    }
}